<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catch Zone - AI Motion Game</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
  <!-- Game Container -->
  <div class="game-wrapper">
    <header class="game-header">
      <h1>CATCH ZONE</h1>
      <div class="score-board" id="score-board">
        <span class="score-item">점수: <span id="score-val">0</span></span>
        <span class="score-item">레벨: <span id="level-val">1</span></span>
        <span class="score-item">시간: <span id="time-val">60</span>초</span>
      </div>
    </header>

    <main class="game-stage">
      <div class="canvas-wrapper">
        <canvas id="canvas"></canvas>
        <div id="gesture-feedback" class="gesture-feedback">준비</div>
      </div>

      <!-- Debug/Info Panel (Optional, can be hidden) -->
      <div id="label-container" class="debug-panel"></div>
    </main>

    <!-- Overlays -->
    <div id="start-screen" class="overlay active">
      <div class="overlay-content">
        <h1 class="title-gradient">CATCH ZONE</h1>
        <p class="subtitle">몸을 움직여 과일을 받고 폭탄을 피하세요!</p>
        <div class="tutorial-icons">
          <div class="icon-box">🏃‍♂️<span>좌우 이동</span></div>
          <div class="icon-box">🍎<span>+10 점</span></div>
          <div class="icon-box">💣<span>-50 점</span></div>
        </div>
        <button id="startBtn" class="btn-primary" onclick="init()">게임 시작</button>
      </div>
    </div>

    <div id="game-over-screen" class="overlay">
      <div class="overlay-content">
        <h2 class="title-gradient">게임 종료</h2>
        <div class="final-score-box">
          <p>최종 점수</p>
          <h3 id="final-score">0</h3>
        </div>
        <button id="restartBtn" class="btn-primary" onclick="restartGame()">다시 하기</button>
      </div>
    </div>
  </div>

  <!-- Teachable Machine Library -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>

  <!-- Application Modules -->
  <script src="./js/stabilizer.js"></script>
  <script src="./js/gameEngine.js"></script>
  <script src="./js/poseEngine.js"></script>
  <script src="./js/main.js"></script>
</body>

</html>